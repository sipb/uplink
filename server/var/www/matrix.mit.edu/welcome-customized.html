<!-- stolen from https://ems.element.io/customer-branding/mozilla/welcome.html -->
<!-- it's not like they particularly document how you're suppoesd to customize because they 
     want you to buy "Element Web Services" -->

<style type="text/css">
    /* we deliberately inline style here to avoid flash-of-CSS problems, and to avoid
 * voodoo where we have to set display: none by default
 */

    h1::after {
        content: '!';
    }

    .mx_Parent {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -webkit-flex-direction: column;
        -ms-flex-direction: column;
        flex-direction: column;
        -webkit-box-pack: center;
        -webkit-justify-content: center;
        -ms-flex-pack: center;
        justify-content: center;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;
        text-align: center;
        padding: 25px 35px;
        color: #2e2f32;
    }

    .mx_Logo {
        height: 54px;
        margin-top: 2px;
    }

    .mx_ButtonGroup {
        margin-top: 10px;
    }

    .mx_ButtonRow {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-justify-content: space-around;
        -ms-flex-pack: distribute;
        justify-content: space-around;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        margin: 12px 0 0;
    }

    .mx_ButtonRow > * {
        margin: 0 10px;
    }

    .mx_ButtonRow > *:first-child {
        margin-left: 0;
    }

    .mx_ButtonRow > *:last-child {
        margin-right: 0;
    }

    .mx_ButtonParent {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        padding: 10px 20px;
        -webkit-box-orient: horizontal;
        -webkit-box-direction: normal;
        -webkit-flex-direction: row;
        -ms-flex-direction: row;
        flex-direction: row;
        -webkit-box-pack: center;
        -webkit-justify-content: center;
        -ms-flex-pack: center;
        justify-content: center;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -ms-flex-align: center;
        align-items: center;
        border-radius: 4px;
        width: 150px;
        background-repeat: no-repeat;
        background-position: 10px center;
        text-decoration: none;
        color: #2e2f32 !important;
    }

    .mx_ButtonLabel {
        margin-left: 20px;
    }

    .mx_Header_title {
        font-size: 24px;
        font-weight: 600;
        margin: 20px 0 0;
    }

    .mx_Header_subtitle {
        font-size: 14px;
        font-weight: normal;
        margin: 8px 0 0;
    }

    .mx_ButtonSignIn {
        background-color: #368bd6;
        color: white !important;
    }

    .mx_ButtonCreateAccount {
        background-color: #0dbd8b;
        color: white !important;
    }

    .mx_SecondaryButton {
        background-color: #ffffff;
        color: #2e2f32;
    }

    .mx_Button_iconSignIn {
        background-image: url('welcome/images/icon-sign-in.svg');
    }
    .mx_Button_iconCreateAccount {
        background-image: url('welcome/images/icon-create-account.svg');
    }
    .mx_Button_iconHelp {
        background-image: url('welcome/images/icon-help.svg');
    }
    .mx_Button_iconRoomDirectory {
        background-image: url('welcome/images/icon-room-directory.svg');
    }

    /*
.mx_WelcomePage_loggedIn is applied by EmbeddedPage from the Welcome component
If it is set on the page, we should show the buttons. Otherwise, we have to assume
we don't have an account and should hide them. No account == no guest account either.
 */
    .mx_WelcomePage:not(.mx_WelcomePage_loggedIn) .mx_WelcomePage_guestFunctions {
        display: none;
    }

    .mx_ButtonRow.mx_WelcomePage_guestFunctions {
        margin-top: 20px;
    }
    .mx_ButtonRow.mx_WelcomePage_guestFunctions > div {
        margin: 0 auto;
    }

    @media only screen and (max-width: 480px) {
        .mx_ButtonRow {
            flex-direction: column;
        }

        .mx_ButtonRow > * {
            margin: 0 0 10px 0;
        }
    }

    /* Start: Custom EMS styles */
    .mx_Parent {
        max-width: 450px;
    }
    .mx_ModularContainer {
        max-width: 800px;
        display: block;
    }
    .mx_ModularList {
        text-align: left;
    }
    .mx_ModularServerTable {
        margin-top: 20px;
        text-align: left;
        font-size: 14px;
    }
    /* End: Custom EMS styles */

    .touchstoneButton {
    	width: 200px;
    	text-align: center;
    	background-color: #A31F34; /* https://web.mit.edu/graphicidentity/colors.html */
    }
</style>

<div class="mx_Parent">
    <a href="https://sipb.mit.edu" target="_blank">
        <img src="https://stuff.mit.edu/sipb/images/fuzzball.png" alt="sipb" height="51"/>
        <!-- you have to escape this cause Element is dumb and will replace that string with the logo -->
        <!-- https://github.com/matrix-org/matrix-react-sdk/blob/a47ee920949a7dc75de6235cb2894a64927d3111/src/components/views/auth/Welcome.tsx#L46 -->
        <img src="https://matrix.org/img/matrix-120x51.png" alt="\[matrix\]" width="120" height="51" class="mx_Logo"/>
    </a>
    <h1 class="mx_Header_title">Welcome to Element</h1>
    <p class="mx_Header_subtitle mx_ModularContainer">
        Welcome to MIT's <a href="https://matrix.org/" target="_blank">Matrix</a> instance, hosted by <a href="https://sipb.mit.edu" target="_blank">SIPB</a>.
        Matrix is an open source messaging protocol which is also federated (like <a href="https://mastodon.mit.edu">Mastodon</a>), so you can communicate with people on other Matrix instances.
    </p>
    <!-- TODO write more stuff, link to the rules, and link to our docs. Use paragraphs of the same classes -->
    <p class="mx_Header_subtitle mx_ModularContainer">
        You can log in here, or you can use the Element app on your phone. When prompted, you can choose us as your homeserver:
    </p>

    <table class="mx_ModularServerTable">
        <tr>
            <th>Homeserver:</th>
            <td>matrix.mit.edu</td>
        </tr>
    </table>

    <div class="mx_ButtonGroup">
        <div class="mx_ButtonRow">
            <a href="$riot:ssoUrl" class="mx_ButtonParent mx_ButtonSignIn mx_Button_iconSignIn touchstoneButton">
                <div class="mx_ButtonLabel">Sign in with Touchstone</div>
            </a>
        </div>
    </div>
</div>

